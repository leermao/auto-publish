type: function
parameters:
  - id: 18oOEYlrV5GQm45QbLIC7
    key: title
  - id: uJ6DFISjgU55s1QxOulGs
    key: content
  - id: jsXYB5VhsuuSDzOBiqSQ3
    key: image
  - id: Ub3fnAIuWqKVNzv1vI3Yz
    key: translations
    type: source
    source:
      variableFrom: tool
      agent:
        projectId: "475837658589822976"
        id: 20240807113423-y6zYyl
        from: assistant
        parameters:
          title: "{{ title }}"
          content: "{{ content }}"
  - id: b83HpbOwjGLvj2rjmG45i
    key: labels
  - id: 93SC03mtN4PLhQODpuGnu
    key: needReview
prompts:
  NTdJigtLCBziAsS48vBTh:
    index: 0
    data:
      type: message
      data:
        id: NTdJigtLCBziAsS48vBTh
        role: user
        content: "{{ question }}"
outputVariables: []
id: 20240807114921-bFxtko
createdAt: 2024-08-06T02:52:42.615Z
updatedAt: 2024-08-06T02:52:42.615Z
createdBy: z2qaBKnrTUAobCcqGMbqAMFW5WHpYzL3Kub2D
updatedBy: z2qaBKnrTUAobCcqGMbqAMFW5WHpYzL3Kub2D
name: 上传 (New)
code: |
  const params = {
    translations: translations,
    publishTime: new Date(),
    boardId: 'blog-default',
    cover: image,
    labels: labels,
    needReview: Boolean(needReview),
  };

  const response = await call({
    name: 'did-comments',
    path: '/api/call/blog/publish',
    method: 'POST',
    data: params,
    headers: context.getUserHeader(),
  });

  // 发布tag
  const id: string = response.data?.id;
  const slug: string = response.data?.slug;

  return { id, slug };
